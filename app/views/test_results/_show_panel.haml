= panel title: test_result.title, context: test_result.panel_context do
  .panel-body
    - if test_result.error?
      = alert_box context: :danger do
        %h4 Errors detected
        - if test_result.exit_code != 0
          %b Exit code:
          = test_result.exit_code
          (Must be 0)
        %br
        %b Error log:
        %br
        %pre= test_result.error_log

    - unless test_result.public
      = alert_box do
        %b Private Test
        %br
        This test was marked private by the instructor. Test results are therefore not viewable by students.
    - if test_result.public || current_user.course_instructor?(test_result.submission.assignment.course)
      = render "test_results/panel_body_#{test_result.type.underscore}", test_result: test_result
